<%@page import="org.json.JSONObject"%>
<%@ page import="wfr.sys.HTMLInterface.HTMLConstants" %>
<%@ page import="wfr.sys.HTMLInterface.HTMLAdminInterface" %>
<%@ page import="wfr.com.*" %>
<%@ page import="wfr.sys.*" %>
<%@ page import="wfr.util.*" %>
<%@ page import="wfr.web.manage.session.ManageSessions" %>
<%@ page import="java.util.*" %>
<%@ page import="wfr.exceptions.WFRException" %>
<%@ taglib uri="/WEB-INF/tlds/webrun.tld" prefix="webrun" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%
  wfr.sys.HTMLInterface.HTMLInterface htmlInterface = (wfr.sys.HTMLInterface.HTMLInterface) request.getAttribute("htmlInterface");
  List<WFREFile> systems = new ArrayList<WFREFile>(0);
  String exceptionMessage = null;

  try {
    systems = ManageSessions.getInstance().getSystemsList(request, response);
  } catch (WFRException ex) {
    exceptionMessage = Functions.stringToJs(ex.getShowMessage(Resources.getInstance(request)));
  } catch (Exception ex) {
    exceptionMessage = ex.getMessage();
  }

  if (WFRConfig.config().getBoolean("WebrunManager", "UseWebrunManager")) {
    for (WFREFile file : systems) {
      String systemCode = file.getCode();
      if (systemCode.equals(WFRConfig.config().get("WebrunManager", "MainSystem"))) {
        String MK3FormGuid = WFRConfig.config().get("WebrunManager", "MainForm");//GUID Maker 3 Webrun Administrator System
        String redirectUrl = "";
        if (MK3FormGuid != null && !MK3FormGuid.equals("")) {
          redirectUrl = "form.jsp?sys=" + systemCode + "&action=openform&formID=" + MK3FormGuid;
        } else {
          redirectUrl = "open.do?sys=" + systemCode;
        }
%>
<script type="text/javascript">window.top.location.href = '<%=redirectUrl%>';</script>
<%
      }
    }
  }

  if (request.getParameter("sys") != null && request.getParameter("action") != null && request.getParameter("action").compareTo("logout") == 0) {
    request.getSession().removeAttribute("WFR" + request.getParameter("sys"));
  }

  Boolean isLogin = request.getParameter("login") != null ? Boolean.valueOf(request.getParameter("login")) : false;
  Functions.setWebrunSelectedSystemCookie(response, request.getParameter("syscode"));

  HTMLAdminInterface adminInterface = (HTMLAdminInterface)request.getSession().getAttribute("WFRAdmin");
  int attempts = (adminInterface != null) ? adminInterface.getTries() : 0;

  Collection<Language> languages = !Resources.I18N_FIXED ? Resources.getLanguages().values() : null;
  Boolean ShowLanguages = (languages != null && languages.size() > 0);
  Locale locale = Resources.getLocale(request);
  String siteKey = WFRConfig.config().get("ReCaptcha", "siteKey");
%>
<!DOCTYPE html>
<html class="w-100 h-100">
  <head>
    <meta charset="${webrun:charset()}">
    <meta http-equiv="Content-Type" content="text/html; charset=${webrun:charset()}">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="webrun.ico" type="image/x-icon">
    <title><webrun:message key="LABEL.SYSTEMS"/> - Webrun Studio <%=WFRSystem.WEBRUN_VERSION%></title>
    <%= HTMLConstants.BOOTSTRAP_CSS %>
    <%= HTMLConstants.ICONS_CSS %>
    <%= HTMLConstants.FORM_CSS %>
    <%= HTMLConstants.JQUERY_JS %>
    <%= HTMLConstants.BOOTSTRAP_JS %>
    <%= Functions.legacyMessage() %>
    <%= Functions.showMessageConfig(null) %>
    <link rel="stylesheet" type="text/css" href="assets/pages/systems.css">
    <%= Functions.customStyles() %>
    <webrun:import src="wfr.js"/>
    <webrun:import src="components/sweetalert/sweetalert.min.js"/>
    <webrun:import src="components/HTMLMessage.js"/>
    <script type="text/javascript">
      function showLoading() {
        let loading = document.getElementById("loading");
        if (loading) loading.style.display = "block";
      }

      function switchCard(currentCard, targetCard, direction, onFinish) {
        let finalizeAnimation;
        let handleAnimationEnd;

        finalizeAnimation = function() {
          targetCard.removeEventListener("animationend", finalizeAnimation);

          targetCard.classList.remove("animated");
          targetCard.classList.remove("slideIn" + (direction ? "Right" : "Left"));

          if (onFinish) onFinish();
        };

        handleAnimationEnd = function() {
          currentCard.removeEventListener("animationend", handleAnimationEnd);
          targetCard.addEventListener("animationend", finalizeAnimation);

          if (!currentCard.classList.contains("d-none")) currentCard.classList.add("d-none");
          currentCard.classList.remove("d-inline-flex");
          currentCard.classList.remove("animated");
          currentCard.classList.remove("slideOut" + (direction ? "Left" : "Right"));

          targetCard.classList.remove("d-none");
          if (!targetCard.classList.contains("d-inline-flex")) targetCard.classList.add("d-inline-flex");
          if (!targetCard.classList.contains("animated")) targetCard.classList.add("animated");
          if (!targetCard.classList.contains("slideIn" + (direction ? "Right" : "Left"))) targetCard.classList.add("slideIn" + (direction ? "Right" : "Left"));

          clearInvalidState();
        };

        currentCard.addEventListener("animationend", handleAnimationEnd);

        if (!targetCard.classList.contains("d-none")) targetCard.classList.add("d-none");
        targetCard.classList.remove("d-inline-flex");
        targetCard.classList.remove("animated");

        currentCard.classList.remove("d-none");
        if (!currentCard.classList.contains("d-inline-flex")) currentCard.classList.add("d-inline-flex");
        if (!currentCard.classList.contains("animated")) currentCard.classList.add("animated");
        if (!currentCard.classList.contains("slideOut" + (direction ? "Left" : "Right"))) currentCard.classList.add("slideOut" + (direction ? "Left" : "Right"));
      }

      function toggleAdminLogon(e) {
        e.preventDefault();

        let mainCard = document.getElementById("main-card");
        let adminCard = document.getElementById("admin-card");

        if (mainCard.classList.contains("d-inline-flex")) {
          switchCard(mainCard, adminCard, true, function() {
            let inputUser = document.getElementById("input-user");
            if (inputUser) inputUser.focus();
          });
        } else {
          switchCard(adminCard, mainCard, false, function() {
            let systemSelect = document.getElementById("syscode");
            if (systemSelect) systemSelect.focus();
          });
        }
      }

      function changeLanguage(locale) {
        showLoading();
        let form = document.getElementById("WFRSystem");
        form.action = "admincore?action=indexChangeLanguage&locale=" + locale;
        form.submit();
      }

      function toLink(event, same, link) {
        event.preventDefault();
        let syscode = document.getElementById("syscode");
        let selectedSys = getSelectedSystem();
        if (!selectedSys || selectedSys.length == 0) {
          let syscodeFeedback = document.getElementById("syscode-feedback");
          syscode.classList.add("is-invalid");
          syscodeFeedback.innerHTML = '<webrun:message key="ERROR.SPECIFY_SYSTEM_CODE"/>';
        } else {
          showLoading();
          window.location = link;
        }

        return false;
      }

      function clearInvalidState() {
        let syscode = document.getElementById("syscode");
        let syscodeFeedback = document.getElementById("syscode-feedback");
        syscode.classList.remove("is-invalid");
        syscodeFeedback.innerHTML = "";
      }

      function getSelectedSystem() {
        let e = document.getElementById("syscode");
        return e.selectedIndex >= 0 ? e.options[e.selectedIndex].value : null;
      }

      window.addEventListener("load", function() {
        let languageButton = document.getElementById("language-button");
        let currentLanguageIcon = document.getElementById("<%= locale.toString().toLowerCase() %>-icon");
        if (languageButton && currentLanguageIcon) {
          languageButton.innerHTML = currentLanguageIcon.innerHTML;
        }
      });
	  function atualizarLogo() {
        const logoCol = document.getElementById('logo-col');
        const cor = getComputedStyle(logoCol).color;
        const corMin = cor.toLowerCase();
        if (corMin === 'rgb(0, 0, 0)') {
          document.getElementById('logo-dark').style.display = 'block';
          document.getElementById('logo-light').style.display = 'none';
        } else {
          document.getElementById('logo-dark').style.display = 'none';
          document.getElementById('logo-light').style.display = 'block';
        }
      }
      document.addEventListener('DOMContentLoaded', atualizarLogo);
    </script>
    <style>
      .flag-button svg {
        max-width: 1.68rem;
        max-height: 1.68rem;
      }

      .flag-icon svg {
        width: 2rem;
      }

      #index-row::before {
        content: "";
        position: fixed;
        top: -50vh;
        left: 0;
        width: calc(50% + 20rem);
        height: 200vh;
        border-top-right-radius: 85%;
        border-bottom-right-radius: 85%;
        background-color: var(--bs-light);
        z-index: -1;
      }

      #logo-col {
        background-color: transparent !important;
      }

      #logo-col svg,
      #logo-col img {
        width: 100%;
        max-width: 28rem;
        fill: currentColor;
      }

      @media (max-width: 767.98px) {
        #index-row > * {
          width: 100% !important;
        }
      }

      @media (min-width: 768px) {
        #index-row {
          height: 100% !important;
        }
      }
    </style>
  </head>
  <body class="w-100 h-100">
    <div id="loading" style="display: none;">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden"><webrun:message key="LABEL.LOADING"/>...</span>
      </div>
    </div>
    <div class="container px-4 py-5 px-md-0 h-100 d-flex d-md-block flex-column align-items-center justify-content-center align-items-md-start justify-content-md-start">
      <div class="row" id="index-row">
        <div class="col-md-6 d-flex justify-content-center align-items-end align-items-md-center text-bg-light pb-4 pb-md-0" id="logo-col">
<svg  id="logo-dark" style="display:none;" viewBox="0 0 664 196" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M176 107.5C176 156.377 136.601 196 88 196C39.3989 196 0 156.377 0 107.5C0 58.6228 39.3989 19 88 19C136.601 19 176 58.6228 176 107.5Z" fill="#233B7B"/>
            <path d="M37.5 110H90.5C93.8333 110.167 100.4 112.3 100 119.5C99.6 126.7 93.5 127.833 90.5 127.5H78.5C75 127.5 68.1 129.5 68.5 137.5C68.9 145.5 76.6667 146.5 80.5 146H117" stroke="white" stroke-width="2.7"/>
            <path d="M119.5 146H116.5" stroke="white" stroke-width="2.7"/>
            <path d="M87.8658 112.5H37V113.914L36.5 124.965H75.849H87.8658H87.878C92.5087 124.965 97.5 124.965 97.5 119.5C97.5 114.562 95.5 112.5 87.8658 112.5Z" fill="#233B7B" stroke="#233B7B" stroke-width="2.7"/>
            <path d="M71 137.259C71 142.189 75.1916 143.481 80.5432 143.481H97.5H116.002V142.069L116.352 136.741V130H91.0845H80.0704C75.5 130 71 131.799 71 137.259Z" fill="#233B7B" stroke="#233B7B" stroke-width="2.7"/>
            <path d="M76.5 64H41.5C36.3 64 35 66.3333 35 67.5V80V92.5C35.4 96.1 41 96.6667 43 96.5H59H76.5H94.5C96.9 96.9 98.1667 95 98.5 94V82C98.1 78.8 96.3333 78 95.5 78H82.5V67.5C81.7 64.7 78.1667 64 76.5 64Z" fill="#233B7B" stroke="white" stroke-width="2.7"/>
            <path d="M75 78H42V69.5H75V78Z" fill="#233B7B" stroke="white" stroke-width="2"/>
            <path d="M50 69.5V78.5M59 69.5V77.5M67.5 69.5V78.5" stroke="white" stroke-width="2"/>
            <circle cx="50" cy="97" r="7.65" fill="#233B7B" stroke="white" stroke-width="2.7"/>
            <circle cx="85" cy="97" r="7.65" fill="#233B7B" stroke="white" stroke-width="2.7"/>
            <path d="M124 134.5C89 91 118 83.5 124 83.5C131 83 136.861 87.7108 139.344 92C146 103.5 133.315 123.871 124 134.5Z" fill="#233B7B" stroke="white" stroke-width="2.7"/>
            <circle cx="124" cy="146" r="4.75" fill="#233B7B" stroke="white" stroke-width="2.5"/>
            <circle cx="124" cy="101" r="9.5" fill="#233B7B" stroke="white" stroke-width="3"/>
            <path d="M239.59 56.1602L237.305 69.6172C233.31 67.6198 229.823 66.1471 226.844 65.1992C223.865 64.2513 220.581 63.7773 216.992 63.7773C213.844 63.7773 211.237 64.6576 209.172 66.418C207.141 68.1445 206.125 70.0573 206.125 72.1562C206.125 73.612 206.514 74.8815 207.293 75.9648C208.072 77.0482 209.595 78.1146 211.863 79.1641C214.132 80.2135 217.483 81.4323 221.918 82.8203C228.689 84.9193 233.852 87.6276 237.406 90.9453C240.995 94.2292 242.789 98.5456 242.789 103.895C242.789 108.736 241.553 112.984 239.082 116.641C236.611 120.297 233.31 123.158 229.18 125.223C225.049 127.254 220.479 128.27 215.469 128.27C210.154 128.27 205.211 127.626 200.641 126.34C196.07 125.053 192.38 123.411 189.57 121.414L192.109 107.449C195.732 110.361 199.507 112.493 203.434 113.848C207.361 115.168 211.372 115.828 215.469 115.828C217.669 115.828 219.734 115.439 221.664 114.66C223.628 113.848 225.202 112.68 226.387 111.156C227.605 109.633 228.215 107.805 228.215 105.672C228.215 104.25 227.792 102.93 226.945 101.711C226.099 100.492 224.44 99.2565 221.969 98.0039C219.497 96.7174 215.807 95.2956 210.898 93.7383C205.583 92.0456 201.538 90.1836 198.762 88.1523C195.986 86.1211 194.09 83.8698 193.074 81.3984C192.092 78.9271 191.602 76.1849 191.602 73.1719C191.602 70.9036 192.092 68.5169 193.074 66.0117C194.056 63.5065 195.596 61.1706 197.695 59.0039C199.794 56.8034 202.469 55.026 205.719 53.6719C209.003 52.2839 212.93 51.5898 217.5 51.5898C221.833 51.5898 225.693 51.9622 229.078 52.707C232.464 53.418 235.967 54.569 239.59 56.1602ZM277.371 98.5625L262.391 72.918C260.427 69.5664 258.48 66.3333 256.551 63.2188C254.655 60.1042 252.285 56.651 249.441 52.8594H266.301L287.883 92.7227L277.371 98.5625ZM287.273 98.5625L277.473 92.7227L298.801 52.8594H315.152C313.155 55.7031 311.445 58.2253 310.023 60.4258C308.635 62.6263 307.349 64.7083 306.164 66.6719C304.979 68.6354 303.743 70.7174 302.457 72.918L287.273 98.5625ZM275.086 91.707H289.559V104.91C289.559 109.921 289.592 114.355 289.66 118.215C289.728 122.04 289.948 124.969 290.32 127H274.324C274.697 124.969 274.917 122.04 274.984 118.215C275.052 114.355 275.086 109.921 275.086 104.91V91.707ZM372.027 56.1602L369.742 69.6172C365.747 67.6198 362.26 66.1471 359.281 65.1992C356.302 64.2513 353.018 63.7773 349.43 63.7773C346.281 63.7773 343.674 64.6576 341.609 66.418C339.578 68.1445 338.562 70.0573 338.562 72.1562C338.562 73.612 338.952 74.8815 339.73 75.9648C340.509 77.0482 342.033 78.1146 344.301 79.1641C346.569 80.2135 349.921 81.4323 354.355 82.8203C361.126 84.9193 366.289 87.6276 369.844 90.9453C373.432 94.2292 375.227 98.5456 375.227 103.895C375.227 108.736 373.991 112.984 371.52 116.641C369.048 120.297 365.747 123.158 361.617 125.223C357.487 127.254 352.917 128.27 347.906 128.27C342.591 128.27 337.648 127.626 333.078 126.34C328.508 125.053 324.818 123.411 322.008 121.414L324.547 107.449C328.169 110.361 331.944 112.493 335.871 113.848C339.798 115.168 343.81 115.828 347.906 115.828C350.107 115.828 352.172 115.439 354.102 114.66C356.065 113.848 357.639 112.68 358.824 111.156C360.043 109.633 360.652 107.805 360.652 105.672C360.652 104.25 360.229 102.93 359.383 101.711C358.536 100.492 356.878 99.2565 354.406 98.0039C351.935 96.7174 348.245 95.2956 343.336 93.7383C338.021 92.0456 333.975 90.1836 331.199 88.1523C328.423 86.1211 326.527 83.8698 325.512 81.3984C324.53 78.9271 324.039 76.1849 324.039 73.1719C324.039 70.9036 324.53 68.5169 325.512 66.0117C326.493 63.5065 328.034 61.1706 330.133 59.0039C332.232 56.8034 334.906 55.026 338.156 53.6719C341.44 52.2839 345.367 51.5898 349.938 51.5898C354.271 51.5898 358.13 51.9622 361.516 52.707C364.901 53.418 368.405 54.569 372.027 56.1602Z" fill="#233B7B"/>
            <path d="M469.208 126H455.48V70.984L436.344 126H421.992L402.44 71.088V126H388.712V53.616H410.24L429.376 107.28L447.992 53.616H469.208V126ZM513.249 127.248C507.771 127.248 502.953 126.104 498.793 123.816C494.633 121.459 491.409 118.131 489.121 113.832C486.902 109.533 485.793 104.541 485.793 98.856C485.793 93.1707 486.902 88.1787 489.121 83.88C491.409 79.5813 494.633 76.288 498.793 74C502.953 71.6427 507.771 70.464 513.249 70.464C518.726 70.464 523.545 71.6427 527.705 74C531.865 76.288 535.054 79.5813 537.273 83.88C539.561 88.1787 540.705 93.1707 540.705 98.856C540.705 104.541 539.561 109.533 537.273 113.832C535.054 118.131 531.865 121.459 527.705 123.816C523.545 126.104 518.726 127.248 513.249 127.248ZM513.249 115.912C517.339 115.912 520.529 114.456 522.817 111.544C525.105 108.563 526.249 104.333 526.249 98.856C526.249 93.3093 525.105 89.08 522.817 86.168C520.529 83.256 517.339 81.8 513.249 81.8C509.158 81.8 505.969 83.256 503.681 86.168C501.393 89.08 500.249 93.3093 500.249 98.856C500.249 104.333 501.393 108.563 503.681 111.544C505.969 114.456 509.158 115.912 513.249 115.912ZM584.348 70.464C588.855 70.464 592.807 71.6427 596.204 74C599.671 76.3573 602.375 79.72 604.316 84.088C606.258 88.3867 607.228 93.3787 607.228 99.064C607.228 107.869 604.94 114.768 600.364 119.76C595.858 124.683 589.687 127.144 581.852 127.144C579.564 127.144 577.415 126.901 575.404 126.416C573.394 125.931 571.106 125.064 568.54 123.816V126H554.812V47.584H568.54V77.016C572.908 72.648 578.178 70.464 584.348 70.464ZM580.5 115.6C584.799 115.6 587.919 114.283 589.86 111.648C591.802 109.013 592.772 104.749 592.772 98.856C592.772 93.24 591.975 89.08 590.38 86.376C588.786 83.672 586.29 82.32 582.892 82.32C578.039 82.32 573.255 84.5387 568.54 88.976V114.352C570.412 114.907 572.25 115.253 574.052 115.392C575.855 115.531 578.004 115.6 580.5 115.6ZM627.576 63.6C625.218 63.6 623.208 62.8027 621.544 61.208C619.88 59.6133 619.048 57.5333 619.048 54.968C619.048 52.4027 619.88 50.3227 621.544 48.728C623.208 47.1333 625.218 46.336 627.576 46.336C629.933 46.336 631.944 47.1333 633.608 48.728C635.272 50.3227 636.104 52.4027 636.104 54.968C636.104 57.5333 635.272 59.6133 633.608 61.208C631.944 62.8027 629.933 63.6 627.576 63.6ZM634.44 71.712V126H620.712V71.816L634.44 71.712Z" fill="#233B7B"/>
            <path d="M202.165 169.42C200.858 169.42 199.47 169.245 198 168.895C196.53 168.545 195.142 168.067 193.835 167.46V162.98C196.868 164.613 199.575 165.43 201.955 165.43C203.145 165.43 204.102 165.173 204.825 164.66C205.572 164.147 205.945 163.423 205.945 162.49C205.945 161.837 205.735 161.288 205.315 160.845C204.918 160.378 204.417 160.005 203.81 159.725C203.203 159.422 202.34 159.06 201.22 158.64C199.703 158.08 198.467 157.543 197.51 157.03C196.553 156.517 195.737 155.793 195.06 154.86C194.383 153.903 194.045 152.678 194.045 151.185C194.045 148.992 194.803 147.288 196.32 146.075C197.837 144.838 199.913 144.22 202.55 144.22C203.787 144.22 205 144.36 206.19 144.64C207.38 144.897 208.477 145.282 209.48 145.795V150.17C207.123 148.863 204.848 148.21 202.655 148.21C201.442 148.21 200.485 148.432 199.785 148.875C199.108 149.295 198.77 149.902 198.77 150.695C198.77 151.488 199.12 152.118 199.82 152.585C200.543 153.028 201.652 153.518 203.145 154.055C204.708 154.638 205.992 155.198 206.995 155.735C207.998 156.272 208.862 157.053 209.585 158.08C210.332 159.083 210.728 160.39 210.775 162C210.775 164.31 209.993 166.13 208.43 167.46C206.867 168.767 204.778 169.42 202.165 169.42ZM215.908 144.64H220.528V169H215.908V144.64ZM234.224 169.42C232.917 169.42 231.529 169.245 230.059 168.895C228.589 168.545 227.2 168.067 225.894 167.46V162.98C228.927 164.613 231.634 165.43 234.014 165.43C235.204 165.43 236.16 165.173 236.884 164.66C237.63 164.147 238.004 163.423 238.004 162.49C238.004 161.837 237.794 161.288 237.374 160.845C236.977 160.378 236.475 160.005 235.869 159.725C235.262 159.422 234.399 159.06 233.279 158.64C231.762 158.08 230.525 157.543 229.569 157.03C228.612 156.517 227.795 155.793 227.119 154.86C226.442 153.903 226.104 152.678 226.104 151.185C226.104 148.992 226.862 147.288 228.379 146.075C229.895 144.838 231.972 144.22 234.609 144.22C235.845 144.22 237.059 144.36 238.249 144.64C239.439 144.897 240.535 145.282 241.539 145.795V150.17C239.182 148.863 236.907 148.21 234.714 148.21C233.5 148.21 232.544 148.432 231.844 148.875C231.167 149.295 230.829 149.902 230.829 150.695C230.829 151.488 231.179 152.118 231.879 152.585C232.602 153.028 233.71 153.518 235.204 154.055C236.767 154.638 238.05 155.198 239.054 155.735C240.057 156.272 240.92 157.053 241.644 158.08C242.39 159.083 242.787 160.39 242.834 162C242.834 164.31 242.052 166.13 240.489 167.46C238.925 168.767 236.837 169.42 234.224 169.42ZM253.566 148.875H246.636V144.64H265.116V148.875H258.186V169H253.566V148.875ZM274.519 148.7V154.79H285.019V158.605H274.519V164.94H285.789V169H269.899V144.64H285.789V148.7H274.519ZM318.607 169H313.987V150.485L307.547 169H302.717L296.137 150.52V169H291.517V144.64H298.762L305.202 162.7L311.467 144.64H318.607V169ZM339.518 163.47H329.123L327.093 169H322.473L331.713 144.64H337.103L346.343 169H341.548L339.518 163.47ZM338.083 159.55L334.338 149.19L330.558 159.55H338.083ZM368.236 144.64C370.733 144.64 372.879 145.142 374.676 146.145C376.473 147.125 377.838 148.537 378.771 150.38C379.704 152.2 380.171 154.347 380.171 156.82C380.171 159.293 379.704 161.452 378.771 163.295C377.838 165.115 376.473 166.527 374.676 167.53C372.879 168.51 370.733 169 368.236 169H359.241V144.64H368.236ZM368.236 164.905C370.453 164.905 372.179 164.217 373.416 162.84C374.676 161.463 375.306 159.457 375.306 156.82C375.306 154.183 374.676 152.177 373.416 150.8C372.179 149.423 370.453 148.735 368.236 148.735H363.861V164.905H368.236ZM390.4 148.7V154.79H400.9V158.605H390.4V164.94H401.67V169H385.78V144.64H401.67V148.7H390.4ZM443.528 169H438.908V150.485L432.468 169H427.638L421.058 150.52V169H416.438V144.64H423.683L430.123 162.7L436.388 144.64H443.528V169ZM461.079 169.42C458.582 169.42 456.436 168.907 454.639 167.88C452.842 166.853 451.477 165.395 450.544 163.505C449.611 161.615 449.144 159.387 449.144 156.82C449.144 154.253 449.611 152.025 450.544 150.135C451.477 148.245 452.842 146.787 454.639 145.76C456.436 144.733 458.582 144.22 461.079 144.22C463.576 144.22 465.722 144.733 467.519 145.76C469.316 146.787 470.681 148.245 471.614 150.135C472.547 152.025 473.014 154.253 473.014 156.82C473.014 159.387 472.547 161.615 471.614 163.505C470.681 165.395 469.316 166.853 467.519 167.88C465.722 168.907 463.576 169.42 461.079 169.42ZM461.079 165.15C463.272 165.15 464.999 164.438 466.259 163.015C467.519 161.568 468.149 159.503 468.149 156.82C468.149 154.137 467.519 152.083 466.259 150.66C464.999 149.213 463.272 148.49 461.079 148.49C458.886 148.49 457.159 149.213 455.899 150.66C454.639 152.083 454.009 154.137 454.009 156.82C454.009 159.503 454.639 161.568 455.899 163.015C457.159 164.438 458.886 165.15 461.079 165.15ZM493.169 156.33C494.429 156.867 495.385 157.625 496.039 158.605C496.692 159.585 497.019 160.775 497.019 162.175C497.019 164.392 496.214 166.083 494.604 167.25C492.994 168.417 490.66 169 487.604 169H478.609V144.64H488.024C490.66 144.64 492.69 145.2 494.114 146.32C495.537 147.417 496.249 148.992 496.249 151.045C496.249 153.495 495.222 155.257 493.169 156.33ZM483.229 148.7V154.51H487.604C488.864 154.51 489.809 154.253 490.439 153.74C491.069 153.227 491.384 152.48 491.384 151.5C491.384 150.427 491.104 149.692 490.544 149.295C490.007 148.898 489.039 148.7 487.639 148.7H483.229ZM487.604 164.905C489.26 164.905 490.427 164.672 491.104 164.205C491.804 163.715 492.154 162.887 492.154 161.72C492.154 160.623 491.78 159.818 491.034 159.305C490.31 158.792 489.179 158.535 487.639 158.535H483.229V164.905H487.604ZM502.031 144.64H506.651V169H502.031V144.64ZM512.786 144.64H517.406V164.94H527.661V169H512.786V144.64ZM532.004 144.64H536.624V169H532.004V144.64ZM551.755 144.64C554.252 144.64 556.398 145.142 558.195 146.145C559.992 147.125 561.357 148.537 562.29 150.38C563.223 152.2 563.69 154.347 563.69 156.82C563.69 159.293 563.223 161.452 562.29 163.295C561.357 165.115 559.992 166.527 558.195 167.53C556.398 168.51 554.252 169 551.755 169H542.76V144.64H551.755ZM551.755 164.905C553.972 164.905 555.698 164.217 556.935 162.84C558.195 161.463 558.825 159.457 558.825 156.82C558.825 154.183 558.195 152.177 556.935 150.8C555.698 149.423 553.972 148.735 551.755 148.735H547.38V164.905H551.755ZM582.353 163.47H571.958L569.928 169H565.308L574.548 144.64H579.938L589.178 169H584.383L582.353 163.47ZM580.918 159.55L577.173 149.19L573.393 159.55H580.918ZM602.032 144.64C604.528 144.64 606.675 145.142 608.472 146.145C610.268 147.125 611.633 148.537 612.567 150.38C613.5 152.2 613.967 154.347 613.967 156.82C613.967 159.293 613.5 161.452 612.567 163.295C611.633 165.115 610.268 166.527 608.472 167.53C606.675 168.51 604.528 169 602.032 169H593.037V144.64H602.032ZM602.032 164.905C604.248 164.905 605.975 164.217 607.212 162.84C608.472 161.463 609.102 159.457 609.102 156.82C609.102 154.183 608.472 152.177 607.212 150.8C605.975 149.423 604.248 148.735 602.032 148.735H597.657V164.905H602.032ZM624.196 148.7V154.79H634.696V158.605H624.196V164.94H635.466V169H619.576V144.64H635.466V148.7H624.196Z" fill="#233B7B"/>
            </svg>

            <svg id="logo-light"  style="display:none;" viewBox="0 0 664 196" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M176 107.5C176 156.377 136.601 196 88 196C39.3989 196 0 156.377 0 107.5C0 58.6228 39.3989 19 88 19C136.601 19 176 58.6228 176 107.5Z" fill="white"/>
              <path d="M37.5 110H90.5C93.8333 110.167 100.4 112.3 100 119.5C99.6 126.7 93.5 127.833 90.5 127.5H78.5C75 127.5 68.1 129.5 68.5 137.5C68.9 145.5 76.6667 146.5 80.5 146H117" stroke="#233B7B" stroke-width="2.7"/>
              <path d="M119.5 146H116.5" stroke="#233B7B" stroke-width="2.7"/>
              <path d="M87.8658 112.5H37V113.914L36.5 124.965H75.849H87.8658H87.878C92.5087 124.965 97.5 124.965 97.5 119.5C97.5 114.562 95.5 112.5 87.8658 112.5Z" fill="white" stroke="white" stroke-width="2.7"/>
              <path d="M71 137.259C71 142.189 75.1916 143.481 80.5432 143.481H97.5H116.002V142.069L116.352 136.741V130H91.0845H80.0704C75.5 130 71 131.799 71 137.259Z" fill="white" stroke="white" stroke-width="2.7"/>
              <path d="M76.5 64H41.5C36.3 64 35 66.3333 35 67.5V80V92.5C35.4 96.1 41 96.6667 43 96.5H59H76.5H94.5C96.9 96.9 98.1667 95 98.5 94V82C98.1 78.8 96.3333 78 95.5 78H82.5V67.5C81.7 64.7 78.1667 64 76.5 64Z" fill="white" stroke="#233B7B" stroke-width="2.7"/>
              <path d="M75 78H42V69.5H75V78Z" fill="white" stroke="#233B7B" stroke-width="2"/>
              <path d="M50 69.5V78.5M59 69.5V77.5M67.5 69.5V78.5" stroke="#233B7B" stroke-width="2"/>
              <circle cx="50" cy="97" r="7.65" fill="white" stroke="#233B7B" stroke-width="2.7"/>
              <circle cx="85" cy="97" r="7.65" fill="white" stroke="#233B7B" stroke-width="2.7"/>
              <path d="M124 134.5C89 91 118 83.5 124 83.5C131 83 136.861 87.7108 139.344 92C146 103.5 133.315 123.871 124 134.5Z" fill="white" stroke="#233B7B" stroke-width="2.7"/>
              <circle cx="124" cy="146" r="4.75" fill="white" stroke="#233B7B" stroke-width="2.5"/>
              <circle cx="124" cy="101" r="9.5" fill="white" stroke="#233B7B" stroke-width="3"/>
              <path d="M239.59 56.1602L237.305 69.6172C233.31 67.6198 229.823 66.1471 226.844 65.1992C223.865 64.2513 220.581 63.7773 216.992 63.7773C213.844 63.7773 211.237 64.6576 209.172 66.418C207.141 68.1445 206.125 70.0573 206.125 72.1562C206.125 73.612 206.514 74.8815 207.293 75.9648C208.072 77.0482 209.595 78.1146 211.863 79.1641C214.132 80.2135 217.483 81.4323 221.918 82.8203C228.689 84.9193 233.852 87.6276 237.406 90.9453C240.995 94.2292 242.789 98.5456 242.789 103.895C242.789 108.736 241.553 112.984 239.082 116.641C236.611 120.297 233.31 123.158 229.18 125.223C225.049 127.254 220.479 128.27 215.469 128.27C210.154 128.27 205.211 127.626 200.641 126.34C196.07 125.053 192.38 123.411 189.57 121.414L192.109 107.449C195.732 110.361 199.507 112.493 203.434 113.848C207.361 115.168 211.372 115.828 215.469 115.828C217.669 115.828 219.734 115.439 221.664 114.66C223.628 113.848 225.202 112.68 226.387 111.156C227.605 109.633 228.215 107.805 228.215 105.672C228.215 104.25 227.792 102.93 226.945 101.711C226.099 100.492 224.44 99.2565 221.969 98.0039C219.497 96.7174 215.807 95.2956 210.898 93.7383C205.583 92.0456 201.538 90.1836 198.762 88.1523C195.986 86.1211 194.09 83.8698 193.074 81.3984C192.092 78.9271 191.602 76.1849 191.602 73.1719C191.602 70.9036 192.092 68.5169 193.074 66.0117C194.056 63.5065 195.596 61.1706 197.695 59.0039C199.794 56.8034 202.469 55.026 205.719 53.6719C209.003 52.2839 212.93 51.5898 217.5 51.5898C221.833 51.5898 225.693 51.9622 229.078 52.707C232.464 53.418 235.967 54.569 239.59 56.1602ZM277.371 98.5625L262.391 72.918C260.427 69.5664 258.48 66.3333 256.551 63.2188C254.655 60.1042 252.285 56.651 249.441 52.8594H266.301L287.883 92.7227L277.371 98.5625ZM287.273 98.5625L277.473 92.7227L298.801 52.8594H315.152C313.155 55.7031 311.445 58.2253 310.023 60.4258C308.635 62.6263 307.349 64.7083 306.164 66.6719C304.979 68.6354 303.743 70.7174 302.457 72.918L287.273 98.5625ZM275.086 91.707H289.559V104.91C289.559 109.921 289.592 114.355 289.66 118.215C289.728 122.04 289.948 124.969 290.32 127H274.324C274.697 124.969 274.917 122.04 274.984 118.215C275.052 114.355 275.086 109.921 275.086 104.91V91.707ZM372.027 56.1602L369.742 69.6172C365.747 67.6198 362.26 66.1471 359.281 65.1992C356.302 64.2513 353.018 63.7773 349.43 63.7773C346.281 63.7773 343.674 64.6576 341.609 66.418C339.578 68.1445 338.562 70.0573 338.562 72.1562C338.562 73.612 338.952 74.8815 339.73 75.9648C340.509 77.0482 342.033 78.1146 344.301 79.1641C346.569 80.2135 349.921 81.4323 354.355 82.8203C361.126 84.9193 366.289 87.6276 369.844 90.9453C373.432 94.2292 375.227 98.5456 375.227 103.895C375.227 108.736 373.991 112.984 371.52 116.641C369.048 120.297 365.747 123.158 361.617 125.223C357.487 127.254 352.917 128.27 347.906 128.27C342.591 128.27 337.648 127.626 333.078 126.34C328.508 125.053 324.818 123.411 322.008 121.414L324.547 107.449C328.169 110.361 331.944 112.493 335.871 113.848C339.798 115.168 343.81 115.828 347.906 115.828C350.107 115.828 352.172 115.439 354.102 114.66C356.065 113.848 357.639 112.68 358.824 111.156C360.043 109.633 360.652 107.805 360.652 105.672C360.652 104.25 360.229 102.93 359.383 101.711C358.536 100.492 356.878 99.2565 354.406 98.0039C351.935 96.7174 348.245 95.2956 343.336 93.7383C338.021 92.0456 333.975 90.1836 331.199 88.1523C328.423 86.1211 326.527 83.8698 325.512 81.3984C324.53 78.9271 324.039 76.1849 324.039 73.1719C324.039 70.9036 324.53 68.5169 325.512 66.0117C326.493 63.5065 328.034 61.1706 330.133 59.0039C332.232 56.8034 334.906 55.026 338.156 53.6719C341.44 52.2839 345.367 51.5898 349.938 51.5898C354.271 51.5898 358.13 51.9622 361.516 52.707C364.901 53.418 368.405 54.569 372.027 56.1602Z" fill="white"/>
              <path d="M469.208 126H455.48V70.984L436.344 126H421.992L402.44 71.088V126H388.712V53.616H410.24L429.376 107.28L447.992 53.616H469.208V126ZM513.249 127.248C507.771 127.248 502.953 126.104 498.793 123.816C494.633 121.459 491.409 118.131 489.121 113.832C486.902 109.533 485.793 104.541 485.793 98.856C485.793 93.1707 486.902 88.1787 489.121 83.88C491.409 79.5813 494.633 76.288 498.793 74C502.953 71.6427 507.771 70.464 513.249 70.464C518.726 70.464 523.545 71.6427 527.705 74C531.865 76.288 535.054 79.5813 537.273 83.88C539.561 88.1787 540.705 93.1707 540.705 98.856C540.705 104.541 539.561 109.533 537.273 113.832C535.054 118.131 531.865 121.459 527.705 123.816C523.545 126.104 518.726 127.248 513.249 127.248ZM513.249 115.912C517.339 115.912 520.529 114.456 522.817 111.544C525.105 108.563 526.249 104.333 526.249 98.856C526.249 93.3093 525.105 89.08 522.817 86.168C520.529 83.256 517.339 81.8 513.249 81.8C509.158 81.8 505.969 83.256 503.681 86.168C501.393 89.08 500.249 93.3093 500.249 98.856C500.249 104.333 501.393 108.563 503.681 111.544C505.969 114.456 509.158 115.912 513.249 115.912ZM584.348 70.464C588.855 70.464 592.807 71.6427 596.204 74C599.671 76.3573 602.375 79.72 604.316 84.088C606.258 88.3867 607.228 93.3787 607.228 99.064C607.228 107.869 604.94 114.768 600.364 119.76C595.858 124.683 589.687 127.144 581.852 127.144C579.564 127.144 577.415 126.901 575.404 126.416C573.394 125.931 571.106 125.064 568.54 123.816V126H554.812V47.584H568.54V77.016C572.908 72.648 578.178 70.464 584.348 70.464ZM580.5 115.6C584.799 115.6 587.919 114.283 589.86 111.648C591.802 109.013 592.772 104.749 592.772 98.856C592.772 93.24 591.975 89.08 590.38 86.376C588.786 83.672 586.29 82.32 582.892 82.32C578.039 82.32 573.255 84.5387 568.54 88.976V114.352C570.412 114.907 572.25 115.253 574.052 115.392C575.855 115.531 578.004 115.6 580.5 115.6ZM627.576 63.6C625.218 63.6 623.208 62.8027 621.544 61.208C619.88 59.6133 619.048 57.5333 619.048 54.968C619.048 52.4027 619.88 50.3227 621.544 48.728C623.208 47.1333 625.218 46.336 627.576 46.336C629.933 46.336 631.944 47.1333 633.608 48.728C635.272 50.3227 636.104 52.4027 636.104 54.968C636.104 57.5333 635.272 59.6133 633.608 61.208C631.944 62.8027 629.933 63.6 627.576 63.6ZM634.44 71.712V126H620.712V71.816L634.44 71.712Z" fill="white"/>
              <path d="M202.165 169.42C200.858 169.42 199.47 169.245 198 168.895C196.53 168.545 195.142 168.067 193.835 167.46V162.98C196.868 164.613 199.575 165.43 201.955 165.43C203.145 165.43 204.102 165.173 204.825 164.66C205.572 164.147 205.945 163.423 205.945 162.49C205.945 161.837 205.735 161.288 205.315 160.845C204.918 160.378 204.417 160.005 203.81 159.725C203.203 159.422 202.34 159.06 201.22 158.64C199.703 158.08 198.467 157.543 197.51 157.03C196.553 156.517 195.737 155.793 195.06 154.86C194.383 153.903 194.045 152.678 194.045 151.185C194.045 148.992 194.803 147.288 196.32 146.075C197.837 144.838 199.913 144.22 202.55 144.22C203.787 144.22 205 144.36 206.19 144.64C207.38 144.897 208.477 145.282 209.48 145.795V150.17C207.123 148.863 204.848 148.21 202.655 148.21C201.442 148.21 200.485 148.432 199.785 148.875C199.108 149.295 198.77 149.902 198.77 150.695C198.77 151.488 199.12 152.118 199.82 152.585C200.543 153.028 201.652 153.518 203.145 154.055C204.708 154.638 205.992 155.198 206.995 155.735C207.998 156.272 208.862 157.053 209.585 158.08C210.332 159.083 210.728 160.39 210.775 162C210.775 164.31 209.993 166.13 208.43 167.46C206.867 168.767 204.778 169.42 202.165 169.42ZM215.908 144.64H220.528V169H215.908V144.64ZM234.224 169.42C232.917 169.42 231.529 169.245 230.059 168.895C228.589 168.545 227.2 168.067 225.894 167.46V162.98C228.927 164.613 231.634 165.43 234.014 165.43C235.204 165.43 236.16 165.173 236.884 164.66C237.63 164.147 238.004 163.423 238.004 162.49C238.004 161.837 237.794 161.288 237.374 160.845C236.977 160.378 236.475 160.005 235.869 159.725C235.262 159.422 234.399 159.06 233.279 158.64C231.762 158.08 230.525 157.543 229.569 157.03C228.612 156.517 227.795 155.793 227.119 154.86C226.442 153.903 226.104 152.678 226.104 151.185C226.104 148.992 226.862 147.288 228.379 146.075C229.895 144.838 231.972 144.22 234.609 144.22C235.845 144.22 237.059 144.36 238.249 144.64C239.439 144.897 240.535 145.282 241.539 145.795V150.17C239.182 148.863 236.907 148.21 234.714 148.21C233.5 148.21 232.544 148.432 231.844 148.875C231.167 149.295 230.829 149.902 230.829 150.695C230.829 151.488 231.179 152.118 231.879 152.585C232.602 153.028 233.71 153.518 235.204 154.055C236.767 154.638 238.05 155.198 239.054 155.735C240.057 156.272 240.92 157.053 241.644 158.08C242.39 159.083 242.787 160.39 242.834 162C242.834 164.31 242.052 166.13 240.489 167.46C238.925 168.767 236.837 169.42 234.224 169.42ZM253.566 148.875H246.636V144.64H265.116V148.875H258.186V169H253.566V148.875ZM274.519 148.7V154.79H285.019V158.605H274.519V164.94H285.789V169H269.899V144.64H285.789V148.7H274.519ZM318.607 169H313.987V150.485L307.547 169H302.717L296.137 150.52V169H291.517V144.64H298.762L305.202 162.7L311.467 144.64H318.607V169ZM339.518 163.47H329.123L327.093 169H322.473L331.713 144.64H337.103L346.343 169H341.548L339.518 163.47ZM338.083 159.55L334.338 149.19L330.558 159.55H338.083ZM368.236 144.64C370.733 144.64 372.879 145.142 374.676 146.145C376.473 147.125 377.838 148.537 378.771 150.38C379.704 152.2 380.171 154.347 380.171 156.82C380.171 159.293 379.704 161.452 378.771 163.295C377.838 165.115 376.473 166.527 374.676 167.53C372.879 168.51 370.733 169 368.236 169H359.241V144.64H368.236ZM368.236 164.905C370.453 164.905 372.179 164.217 373.416 162.84C374.676 161.463 375.306 159.457 375.306 156.82C375.306 154.183 374.676 152.177 373.416 150.8C372.179 149.423 370.453 148.735 368.236 148.735H363.861V164.905H368.236ZM390.4 148.7V154.79H400.9V158.605H390.4V164.94H401.67V169H385.78V144.64H401.67V148.7H390.4ZM443.528 169H438.908V150.485L432.468 169H427.638L421.058 150.52V169H416.438V144.64H423.683L430.123 162.7L436.388 144.64H443.528V169ZM461.079 169.42C458.582 169.42 456.436 168.907 454.639 167.88C452.842 166.853 451.477 165.395 450.544 163.505C449.611 161.615 449.144 159.387 449.144 156.82C449.144 154.253 449.611 152.025 450.544 150.135C451.477 148.245 452.842 146.787 454.639 145.76C456.436 144.733 458.582 144.22 461.079 144.22C463.576 144.22 465.722 144.733 467.519 145.76C469.316 146.787 470.681 148.245 471.614 150.135C472.547 152.025 473.014 154.253 473.014 156.82C473.014 159.387 472.547 161.615 471.614 163.505C470.681 165.395 469.316 166.853 467.519 167.88C465.722 168.907 463.576 169.42 461.079 169.42ZM461.079 165.15C463.272 165.15 464.999 164.438 466.259 163.015C467.519 161.568 468.149 159.503 468.149 156.82C468.149 154.137 467.519 152.083 466.259 150.66C464.999 149.213 463.272 148.49 461.079 148.49C458.886 148.49 457.159 149.213 455.899 150.66C454.639 152.083 454.009 154.137 454.009 156.82C454.009 159.503 454.639 161.568 455.899 163.015C457.159 164.438 458.886 165.15 461.079 165.15ZM493.169 156.33C494.429 156.867 495.385 157.625 496.039 158.605C496.692 159.585 497.019 160.775 497.019 162.175C497.019 164.392 496.214 166.083 494.604 167.25C492.994 168.417 490.66 169 487.604 169H478.609V144.64H488.024C490.66 144.64 492.69 145.2 494.114 146.32C495.537 147.417 496.249 148.992 496.249 151.045C496.249 153.495 495.222 155.257 493.169 156.33ZM483.229 148.7V154.51H487.604C488.864 154.51 489.809 154.253 490.439 153.74C491.069 153.227 491.384 152.48 491.384 151.5C491.384 150.427 491.104 149.692 490.544 149.295C490.007 148.898 489.039 148.7 487.639 148.7H483.229ZM487.604 164.905C489.26 164.905 490.427 164.672 491.104 164.205C491.804 163.715 492.154 162.887 492.154 161.72C492.154 160.623 491.78 159.818 491.034 159.305C490.31 158.792 489.179 158.535 487.639 158.535H483.229V164.905H487.604ZM502.031 144.64H506.651V169H502.031V144.64ZM512.786 144.64H517.406V164.94H527.661V169H512.786V144.64ZM532.004 144.64H536.624V169H532.004V144.64ZM551.755 144.64C554.252 144.64 556.398 145.142 558.195 146.145C559.992 147.125 561.357 148.537 562.29 150.38C563.223 152.2 563.69 154.347 563.69 156.82C563.69 159.293 563.223 161.452 562.29 163.295C561.357 165.115 559.992 166.527 558.195 167.53C556.398 168.51 554.252 169 551.755 169H542.76V144.64H551.755ZM551.755 164.905C553.972 164.905 555.698 164.217 556.935 162.84C558.195 161.463 558.825 159.457 558.825 156.82C558.825 154.183 558.195 152.177 556.935 150.8C555.698 149.423 553.972 148.735 551.755 148.735H547.38V164.905H551.755ZM582.353 163.47H571.958L569.928 169H565.308L574.548 144.64H579.938L589.178 169H584.383L582.353 163.47ZM580.918 159.55L577.173 149.19L573.393 159.55H580.918ZM602.032 144.64C604.528 144.64 606.675 145.142 608.472 146.145C610.268 147.125 611.633 148.537 612.567 150.38C613.5 152.2 613.967 154.347 613.967 156.82C613.967 159.293 613.5 161.452 612.567 163.295C611.633 165.115 610.268 166.527 608.472 167.53C606.675 168.51 604.528 169 602.032 169H593.037V144.64H602.032ZM602.032 164.905C604.248 164.905 605.975 164.217 607.212 162.84C608.472 161.463 609.102 159.457 609.102 156.82C609.102 154.183 608.472 152.177 607.212 150.8C605.975 149.423 604.248 148.735 602.032 148.735H597.657V164.905H602.032ZM624.196 148.7V154.79H634.696V158.605H624.196V164.94H635.466V169H619.576V144.64H635.466V148.7H624.196Z" fill="white"/>
              </svg>
        </div>
        <div class="col-md-6 position-relative d-flex align-items-start align-items-md-center py-4 py-md-0" id="card-col">
          <div class="card border rounded-3 bg-body position-relative w-100 mw-100 shadow p-2 <% if (isLogin) { %>d-none<% } else { %>d-inline-flex<% } %>" id="main-card">
            <div class="card-body px-md-4 py-md-3">
              <h4 class="card-title mb-3"><webrun:message key="LABEL.SYSTEMS"/></h4>
              <p class="card-text text-muted"><webrun:message key="INFO.SELECT_ONE_SYSTEM"/></p>

              <form name="WFRLogon" id="WFRSystem" class="needs-validation" method="post" action="open.do">
                <input type="hidden" name="locale" value="">
                <% if (ShowLanguages) { %>
                <div class="input-group">
                <% } %>
                  <select class="form-select" name="syscode" id="syscode" tabindex="1">
                    <% String cookieSystem = Functions.getWebrunSelectedSystemCookie(request); %>
                    <% if (cookieSystem == null || cookieSystem.isEmpty()) { %><option value="" class="d-none" hidden disabled selected>&nbsp;</option><% } %>
                    <%
                      for (int i = 0; i < systems.size(); i++) {
                        WFREFile wfre = (WFREFile)systems.get(i);
                        String displayName = wfre.getParameter("DisplayName");
                    %>
                    <option value="<%= wfre.getCode() %>"<% if (wfre.getCode().equals(cookieSystem)) { %> selected<% } %>>
                      <%= ((displayName != null && !displayName.isEmpty()) ? displayName : wfre.getName()) %>
                    </option>
                    <% } %>
                  </select>
                  <% if (ShowLanguages) { %>
                  <button id="language-button" type="button" class="btn btn-light border dropdown-toggle px-2 py-0 flag-button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="width: 4rem;">
                  </button>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-right flag-menu">
                    <h6 class="dropdown-header"><webrun:message key="LABEL.LANGUAGE"/></h6>
                    <% for (Language language : languages) { %>
                    <% String languageStr = language.getLocale().toString(); %>
                    <li>
                      <button class="dropdown-item d-flex align-items-center" type="button" onclick="changeLanguage('<%= languageStr %>');">
                        <span id="<%=languageStr.toLowerCase()%>-icon" class="d-flex align-items-center flag-icon me-2">
                          <% if (languageStr.equalsIgnoreCase("en_US")) { %>
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                              <circle fill="#F0F0F0" cx="256" cy="256" r="256"/>
                              <path fill="#D80027" d="M244.87,256H512c0-23.106-3.08-45.49-8.819-66.783H244.87V256z"/>
                              <path fill="#D80027" d="M244.87,122.435h229.556c-15.671-25.572-35.708-48.175-59.07-66.783H244.87V122.435z"/>
                              <path fill="#D80027" d="M256,512c60.249,0,115.626-20.824,159.356-55.652H96.644C140.374,491.176,195.751,512,256,512z"/>
                              <path fill="#D80027" d="M37.574,389.565h436.852c12.581-20.529,22.338-42.969,28.755-66.783H8.819 C15.236,346.596,24.993,369.036,37.574,389.565z"/>
                              <path fill="#0052B4" d="M118.584,39.978h23.329l-21.7,15.765l8.289,25.509l-21.699-15.765L85.104,81.252l7.16-22.037 C73.158,75.13,56.412,93.776,42.612,114.552h7.475l-13.813,10.035c-2.152,3.59-4.216,7.237-6.194,10.938l6.596,20.301l-12.306-8.941 c-3.059,6.481-5.857,13.108-8.372,19.873l7.267,22.368h26.822l-21.7,15.765l8.289,25.509l-21.699-15.765l-12.998,9.444 C0.678,234.537,0,245.189,0,256h256c0-141.384,0-158.052,0-256C205.428,0,158.285,14.67,118.584,39.978z M128.502,230.4 l-21.699-15.765L85.104,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822l-21.7,15.765L128.502,230.4z M120.213,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 L120.213,130.317z M220.328,230.4l-21.699-15.765L176.93,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 l-21.7,15.765L220.328,230.4z M212.039,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822 l8.288-25.509l8.288,25.509h26.822L212.039,130.317z M212.039,55.743l8.289,25.509l-21.699-15.765L176.93,81.252l8.289-25.509 l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822L212.039,55.743z"/>
                            </svg>
                          <% } else if (languageStr.equalsIgnoreCase("pt_BR")) { %>
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                              <circle fill="#6DA544" cx="256" cy="256" r="256"/>
                              <polygon fill="#FFDA44" points="256,100.174 467.478,256 256,411.826 44.522,256 "/>
                              <circle fill="#F0F0F0" cx="256" cy="256" r="89.043"/>
                              <path fill="#0052B4" d="M211.478,250.435c-15.484,0-30.427,2.355-44.493,6.725c0.623,48.64,40.227,87.884,89.015,87.884 c30.168,0,56.812-15.017,72.919-37.968C301.362,272.579,258.961,250.435,211.478,250.435z"/>
                              <path fill="#0052B4" d="M343.393,273.06c1.072-5.524,1.651-11.223,1.651-17.06c0-49.178-39.866-89.043-89.043-89.043 c-36.694,0-68.194,22.201-81.826,53.899c12.05-2.497,24.526-3.812,37.305-3.812C263.197,217.043,309.983,238.541,343.393,273.06z"/>
                            </svg>
                          <% } else if (languageStr.equalsIgnoreCase("es_ES")) { %>
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                              <path fill="#FFDA44" d="M0,256c0,31.314,5.633,61.31,15.923,89.043L256,367.304l240.077-22.261 C506.367,317.31,512,287.314,512,256s-5.633-61.31-15.923-89.043L256,144.696L15.923,166.957C5.633,194.69,0,224.686,0,256z"/>
                              <path fill="#D80027" d="M496.077,166.957C459.906,69.473,366.071,0,256,0S52.094,69.473,15.923,166.957H496.077z"/>
                              <path fill="#D80027" d="M15.923,345.043C52.094,442.527,145.929,512,256,512s203.906-69.473,240.077-166.957H15.923z"/>
                            </svg>
                          <% } else if (languageStr.equalsIgnoreCase("fr_FR")) { %>
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                              <circle fill="#F0F0F0" cx="256" cy="256" r="256"/>
                              <path fill="#D80027" d="M512,256c0-110.071-69.472-203.906-166.957-240.077v480.155C442.528,459.906,512,366.071,512,256z"/>
                              <path fill="#0052B4" d="M0,256c0,110.071,69.473,203.906,166.957,240.077V15.923C69.473,52.094,0,145.929,0,256z"/>
                            </svg>
                          <% } %>
                        </span>
                        <span>&nbsp;<%= Functions.stringToHTMLString(language.getDescription()) %></span>
                      </button>
                    </li>
                    <% } %>
                  </ul>
                  <% } %>
                </div>
                <div class="invalid-feedback" id="syscode-feedback"></div>
              </form>
            </div>
            <div class="card-footer rounded-3 bg-transparent border-0 px-md-4 py-md-3">
              <button type="button" class="btn btn-dark me-2" onclick="toLink(event, this, '<%= (request.getContextPath() + "/open.do?action=open&sys=") %>' + getSelectedSystem());">
                <i class="fas fa-sign-in-alt me-2"></i>
                <span><webrun:message key="LABEL.SIGN_IN"/></span>
              </button>
              <div class="btn-group">
                <button type="button" class="btn btn-dark" onclick="toggleAdminLogon(event); return false;">
                  <i class="fas fa-cog me-2"></i>
                  <span><webrun:message key="LABEL.SETTINGS"/></span>
                </button>
                <button type="button" class="btn btn-dark dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="visually-hidden"></span>
                </button>
                <div class="dropdown-menu">
                  <h6 class="dropdown-header"><webrun:message key="LABEL.ADVANCED"/></h6>
                  <a class="dropdown-item" href="<%=request.getContextPath()%>/autotest">
                    <i class="fas fa-screwdriver-wrench me-2"></i>
                    <span>Auto Test</span>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card border rounded-3 bg-body position-relative w-100 mw-100 shadow p-2 <% if (isLogin) { %>d-inline-flex<% } else { %>d-none<% } %>" id="admin-card">
            <form name="WFRLogon" id="WFRLogon" class="needs-validation" method="post" action="admincore">
              <input name="action" type="hidden" id="action" value="logon">
              <input name="RECAPTCHA-TOKEN" type="hidden" value="" />
              <div class="card-body px-md-4 py-md-3">
                <h4 class="card-title mb-3"><webrun:message key="LABEL.SETTINGS"/></h4>
                <p class="card-text text-muted"><webrun:message key="INFO.FILL_NAME_PASSWORD_ACCESS"/></p>

                <div class="input-group mb-3 w-100">
                  <span class="input-group-text">
                    <i class="fas fa-user"></i>
                  </span>
                  <input type="text" name="user" class="form-control position-relative" id="input-user" placeholder="<webrun:message key="LABEL.USER"/>" required>
                </div>

                <div class="input-group mb-0 w-100">
                  <span class="input-group-text">
                    <i class="fas fa-key"></i>
                  </span>
                  <input type="password" name="password" class="form-control position-relative" id="input-password" placeholder="<webrun:message key="LABEL.PASSWORD"/>" required>
                </div>

                  <% if (Functions.isReCaptchaDefined()) { %>
                    <script>
                      const script = document.createElement("script");
                      script.type = "text/javascript";
                      script.src = "https://www.google.com/recaptcha/api.js?render=<%=siteKey%>";
                      script.onload = function() {
                        loadRecaptcha('<%=siteKey%>');
                        setInterval(function () {
                          loadRecaptcha('<%=siteKey%>');
                        }, 90 * 1000)
                      };
                      document.head.appendChild(script);
                    </script>
                  <% } %>
              </div>
              <div class="card-footer rounded-3 bg-transparent border-0 px-md-4 py-md-3">
                <button type="submit" class="btn btn-dark me-2">
                  <i class="fas fa-sign-in-alt me-2"></i>
                  <span><webrun:message key="LABEL.SIGN_IN"/></span>
                </button>
                <button type="button" class="btn btn-dark" onclick="toggleAdminLogon(event); return false;">
                  <i class="fas fa-list me-2"></i>
                  <span><webrun:message key="LABEL.SYSTEMS"/></span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <small class="copyright text-muted text-center mt-3">Secretaria Municipal de Mobilidade - SEMOB | Webrun <%=WFRSystem.WEBRUN_VERSION%></small>

    <% if (exceptionMessage != null) { %><script>alert("<%=exceptionMessage%>");</script><% } %>
    <% if (request.getParameter("msg") != null && request.getParameter("msg").length() > 0) { %>
    <script type="text/javascript">interactionError('<%=Functions.stringToJs(Functions.stringToHTMLString(Functions.fromISOtoBASE(request.getParameter("msg"))))%>');</script>
    <% } %>
    <webrun:errorMessage forceMethodCall="error.showWarningMessage"/>
  </body>
</html>
